{"version":3,"sources":["webpack:///src/page/addproduct.vue","webpack:///./src/page/addproduct.vue?607b","webpack:///./src/page/addproduct.vue"],"names":["addproduct","data","formDate","productName","infor","account","points","param","imageUrl","rules","required","message","trigger","type","components","headTop","mounted","methods","beforeupload","file","this","FormData","append","submitForm","formName","_this2","$refs","validate","valid","upload","submit","$notify","error","title","offset","axios_default","a","post","headers","Content-Type","then","res","code","alert","onchange","fileList","_this","event","window","reader","target","files","FileReader","onload","e","result","readAsDataURL","handleAvatarSuccess","URL","createObjectURL","raw","page_addproduct","render","_vm","_h","$createElement","_c","_self","_v","attrs","visible","dialogVisible","on","update:visible","$event","width","src","dialogImageUrl","alt","staticStyle","margin-top","span","ref","staticClass","model","label-width","label","prop","value","callback","$$v","$set","expression","maxLength","_n","action","show-file-list","on-change","on-success","before-upload","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"+JAqDAA,GACAC,KADA,WAEA,OAEAC,UACAC,YAAA,GACAC,MAAA,GACAC,QAAA,GACAC,OAAA,IAEAC,MAAA,GACAC,SAAA,GACAC,OACAN,cACAO,UAAA,EAAAC,QAAA,UAAAC,QAAA,SAEAR,QACAM,UAAA,EAAAC,QAAA,UAAAC,QAAA,SAEAP,UACAK,UAAA,EAAAC,QAAA,YACAE,KAAA,SAAAF,QAAA,cAEAL,SACAI,UAAA,EAAAC,QAAA,YACAE,KAAA,SAAAF,QAAA,eAMAG,YACAC,UAAA,GAEAC,QAlCA,aAqCAC,SAGAC,aAHA,SAGAC,GAIA,OAFAC,KAAAb,MAAA,IAAAc,SACAD,KAAAb,MAAAe,OAAA,UAAAH,IACA,GAEAI,WATA,SASAC,GAAA,IAAAC,EAAAL,KACAA,KAAAM,MAAAxB,SAAAyB,SAAA,SAAAC,GACA,GAAAA,EAAA,CAEAH,EAAAC,MAAAG,OAAAC,SAEA,IAAAL,EAAAlB,OACAkB,EAAAM,QAAAC,OACAC,MAAA,KACAtB,QAAA,YACAuB,OAAA,MAGAT,EAAAlB,MAAAe,OAAA,cAAAG,EAAAvB,SAAAC,aACAsB,EAAAlB,MAAAe,OAAA,QAAAG,EAAAvB,SAAAE,OACAqB,EAAAlB,MAAAe,OAAA,UAAAG,EAAAvB,SAAAG,SACAoB,EAAAlB,MAAAe,OAAA,SAAAG,EAAAvB,SAAAI,QAQA6B,EAAAC,EAAAC,KAAA,mCAAAZ,EAAAlB,OALA+B,SACAC,eAAA,yBAKAC,KAAA,SAAAC,GACA,GAAAA,EAAAxC,KAAAyC,MACAjB,EAAAvB,SAAAC,YAAA,GACAsB,EAAAvB,SAAAE,MAAA,GACAqB,EAAAvB,SAAAG,QAAA,GACAoB,EAAAvB,SAAAI,OAAA,GACAmB,EAAAjB,SAAA,GACAiB,EAAAlB,MAAA,GACAoC,MAAA,SAEAA,MAAA,SAGA,SAAAX,WAMAP,EAAAM,QAAAC,OACAC,MAAA,KACAtB,QAAA,YACAuB,OAAA,SAUAU,SAlEA,SAkEAzB,EAAA0B,GACA,IAAAC,EAAA1B,KACA2B,KAAAC,OAAAD,MAEAE,GADA9B,EAAA4B,EAAAG,OAAAC,MAAA,GACA,IAAAC,YAEAH,EAAAI,OAAA,SAAAC,GACAR,EAAAtC,SAAA8C,EAAAJ,OAAAK,QAEAN,EAAAO,cAAArC,IAEAsC,oBA7EA,SA6EAhB,EAAAtB,GACAC,KAAAZ,SAAAkD,IAAAC,gBAAAxC,EAAAyC,QCrKeC,GADEC,OAFjB,WAA0B,IAAAC,EAAA3C,KAAa4C,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,YAAAH,EAAAK,GAAA,KAAAF,EAAA,aAA4DG,OAAOC,QAAAP,EAAAQ,eAA4BC,IAAKC,iBAAA,SAAAC,GAAkCX,EAAAQ,cAAAG,MAA2BR,EAAA,OAAYG,OAAOM,MAAA,OAAAC,IAAAb,EAAAc,eAAAC,IAAA,QAAkDf,EAAAK,GAAA,KAAAF,EAAA,UAA6Ba,aAAaC,aAAA,UAAqBd,EAAA,UAAeG,OAAOY,KAAA,GAAA/C,OAAA,KAAsBgC,EAAA,WAAgBgB,IAAA,WAAAC,YAAA,gBAAAd,OAAkDe,MAAArB,EAAA7D,SAAAO,MAAAsD,EAAAtD,MAAA4E,cAAA,WAA8DnB,EAAA,gBAAqBG,OAAOiB,MAAA,OAAAC,KAAA,iBAAqCrB,EAAA,YAAiBkB,OAAOI,MAAAzB,EAAA7D,SAAA,YAAAuF,SAAA,SAAAC,GAA0D3B,EAAA4B,KAAA5B,EAAA7D,SAAA,cAAAwF,IAA2CE,WAAA,2BAAoC,GAAA7B,EAAAK,GAAA,KAAAF,EAAA,gBAAqCG,OAAOiB,MAAA,OAAAC,KAAA,WAA+BrB,EAAA,YAAiBkB,OAAOI,MAAAzB,EAAA7D,SAAA,MAAAuF,SAAA,SAAAC,GAAoD3B,EAAA4B,KAAA5B,EAAA7D,SAAA,QAAAwF,IAAqCE,WAAA,qBAA8B,GAAA7B,EAAAK,GAAA,KAAAF,EAAA,gBAAqCG,OAAOiB,MAAA,OAAAC,KAAA,aAAiCrB,EAAA,YAAiBG,OAAOwB,UAAA,MAAiBT,OAAQI,MAAAzB,EAAA7D,SAAA,QAAAuF,SAAA,SAAAC,GAAsD3B,EAAA4B,KAAA5B,EAAA7D,SAAA,UAAA6D,EAAA+B,GAAAJ,KAA+CE,WAAA,uBAAgC,GAAA7B,EAAAK,GAAA,KAAAF,EAAA,gBAAqCG,OAAOiB,MAAA,OAAAC,KAAA,YAAgCrB,EAAA,YAAiBG,OAAOwB,UAAA,MAAiBT,OAAQI,MAAAzB,EAAA7D,SAAA,OAAAuF,SAAA,SAAAC,GAAqD3B,EAAA4B,KAAA5B,EAAA7D,SAAA,SAAA6D,EAAA+B,GAAAJ,KAA8CE,WAAA,sBAA+B,GAAA7B,EAAAK,GAAA,KAAAF,EAAA,gBAAqCG,OAAOiB,MAAA,UAAgBpB,EAAA,aAAkBgB,IAAA,SAAAC,YAAA,kBAAAd,OAAkD0B,OAAA,mCAAAC,kBAAA,EAAAC,YAAAlC,EAAAnB,SAAAsD,aAAAnC,EAAAN,oBAAA0C,gBAAApC,EAAA7C,gBAAmK6C,EAAA,SAAAG,EAAA,OAA2BiB,YAAA,SAAAd,OAA4BO,IAAAb,EAAAvD,YAAoB0D,EAAA,KAAUiB,YAAA,yCAAgD,GAAApB,EAAAK,GAAA,KAAAF,EAAA,gBAAuCiB,YAAA,kBAA4BjB,EAAA,aAAkBG,OAAOxD,KAAA,WAAiB2D,IAAK4B,MAAA,SAAA1B,GAAyB,OAAAX,EAAAxC,WAAA,gBAAoCwC,EAAAK,GAAA,+BAE9iEiC,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACExG,EACA6D,GATF,EAVA,SAAA4C,GACEF,EAAQ,SAaV,KAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/2.944e7aea6f47cccd6acc.js","sourcesContent":["<template>\n   <div >\n        <head-top></head-top>\n        \n     \n      <!--展示选中图片的区域-->\n      <el-dialog :visible.sync=\"dialogVisible\">\n        <img width=\"100%\"\n             :src=\"dialogImageUrl\"\n             alt=\"\">\n      </el-dialog>\n        <el-row style=\"margin-top: 20px;\">\n  \t\t\t<el-col :span=\"12\" :offset=\"4\">\n\t\t        <el-form :model=\"formDate\" :rules=\"rules\" ref=\"formDate\" label-width=\"110px\" class=\"demo-formData\">\n\t\t\t\t<el-form-item label=\"商品名称\" prop=\"productName\">\n\t\t\t\t\t\t<el-input v-model=\"formDate.productName\"></el-input>\n\t\t\t\t</el-form-item>\t\n                <el-form-item label=\"描述信息\" prop=\"infor\">\n\t\t\t\t\t\t<el-input v-model=\"formDate.infor\"></el-input>\n\t\t\t\t</el-form-item>\t\n                <el-form-item label=\"商品数量\" prop=\"account\">\n\t\t\t\t\t\t<el-input v-model.number=\"formDate.account\" maxLength=\"11\"></el-input>\n\t\t\t\t</el-form-item>\t\n                <el-form-item label=\"商品积分\" prop=\"points\">\n\t\t\t\t\t\t<el-input v-model.number=\"formDate.points\" maxLength=\"11\"></el-input>\n\t\t\t\t</el-form-item>\t\n                <el-form-item label=\"上传图片\">\n\t\t\t\t\t<el-upload\n                        class=\"avatar-uploader\"\n                        ref=\"upload\"\n                        action=\"http://127.0.0.1:8080/productAdd\"\n                        :show-file-list=\"false\"\n                        :on-change=\"onchange\"\n                        :on-success=\"handleAvatarSuccess\"\n                        :before-upload=\"beforeupload\">\n                        <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\">\n                        <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n                    </el-upload>\n\t\t\t\t</el-form-item>\n\t\t\t\t<el-form-item class=\"button_submit\">\n\t\t\t\t\t\t<el-button type=\"primary\" @click=\"submitForm('formData')\">立即创建</el-button>\n\t\t\t\t</el-form-item>\t\n\t\t\t\t\t\n\t\t\t\t</el-form>\n  \t\t\t</el-col>\n  \t\t</el-row>\n    </div>\n    \n</template>\n\n<script>\n import headTop from '../components/headTop'\nimport axios from 'axios'\n export default {\n    \tdata(){\n    \t\treturn {\n\n    \t\t\tformDate: {\n                    productName:'',\n                    infor:'',\n                    account:'',\n                    points:'',\n                },\n                param: '', // 表单要提交的参数\n                imageUrl: '',\n\t\t        rules: {\n\t\t\t\t\tproductName: [\n\t\t\t\t\t\t{ required: true, message: '请输入商品名称', trigger: 'blur' },\n\t\t\t\t\t],\n\t\t\t\t\tinfor: [\n\t\t\t\t\t\t{ required: true, message: '请输入商品信息', trigger: 'blur' }\n\t\t\t\t\t],\n\t\t\t\t\taccount: [\n\t\t\t\t\t\t{ required: true, message: '请输入商品数量' },\n\t\t\t\t\t\t{ type: 'number', message: '商品数量必须是数字' }\n                    ],\n                    points: [\n\t\t\t\t\t\t{ required: true, message: '请输入商品积分' },\n\t\t\t\t\t\t{ type: 'number', message: '商品必须是数字' }\n                    ],\n\t\t\t\t},\n\t\t\t\t\n    \t\t}\n    \t},\n    \tcomponents: {\n    \t\theadTop,\n    \t},\n    \tmounted(){\n            \n    \t},\n    \tmethods: {\n       \n            // 2，上传前事件\n            beforeupload (file) {\n              // 2.1，重新写一个表单上传的方法\n                this.param = new FormData()\n                this.param.append(`picture`, file) // 把单个图片重命名，存储起来（给后台）\n              return false\n            },\n\t\t    submitForm(formName) {\n                this.$refs.formDate.validate((valid) => {\n                if (valid) {\n                   let _this = this\n                        this.$refs.upload.submit()\n                        // 4.1，下面append的东西就会到form表单数据的this.param中；\n                        if(this.param==''){\n                            this.$notify.error({\n\t\t\t\t\t\t\t    title: '错误',\n\t\t\t\t\t\t\t    message: '请检查输入是否正确',\n\t\t\t\t\t\t\t    offset: 100\n\t\t\t\t\t\t    });\n                        }\n                        this.param.append('productName', this.formDate.productName)\n                        this.param.append('infor', this.formDate.infor)\n                        this.param.append('account', this.formDate.account)\n                        this.param.append('points', this.formDate.points)\n                        // 4.2，赋予提交请求头，格式为：'multipart/form-data'（必须！！）\n                        let config = {\n                          headers: {\n                            'Content-Type': 'multipart/form-data'\n                          }\n                        }\n                        // 4.3，然后通过下面的方式把内容通过axios来传到后台\n                        axios.post('http://127.0.0.1:8080/productAdd', this.param, config)\n                        .then(res=>{\n                            if(res.data.code==0){\n                                this.formDate.productName='';\n                                this.formDate.infor='';\n                                this.formDate.account='';\n                                this.formDate.points='';\n                                this.imageUrl='';\n                                this.param='';\n                                alert(\"上传成功\");\n                            }else{\n                                alert(\"上传失败\");\n                            }\n                        },\n                            error=>{\n                        \n                            }\n                        )\n                } else {\n                    \n                    this.$notify.error({\n\t\t\t\t\t\t\ttitle: '错误',\n\t\t\t\t\t\t\tmessage: '请检查输入是否正确',\n\t\t\t\t\t\t\toffset: 100\n\t\t\t\t\t\t});\n                }\n                });\n                   \n\t\t\t\t    \n\t\t\t\t\n                \n            },\n            \n            onchange(file,fileList){\n                var _this = this;\n                var event = event || window.event;\n                var file = event.target.files[0];\n                var reader = new FileReader(); \n                //转base64\n                reader.onload = function(e) {\n                  _this.imageUrl = e.target.result //将图片路径赋值给src\n                }\n                reader.readAsDataURL(file);\n            },\n            handleAvatarSuccess(res, file) {\n                this.imageUrl = URL.createObjectURL(file.raw);\n            },\n\n\t\t}\n    }\n</script>\n</script>\n\n<style lang=\"less\">\n\t@import '../style/mixin';\n\t.button_submit{\n\t\ttext-align: center;\n\t}\n\t.avatar-uploader .el-upload {\n\t    border: 1px dashed #d9d9d9;\n\t    border-radius: 6px;\n\t    cursor: pointer;\n\t    position: relative;\n\t    overflow: hidden;\n\t}\n\t.avatar-uploader .el-upload:hover {\n\t    border-color: #20a0ff;\n\t}\n\t.avatar-uploader-icon {\n\t    font-size: 28px;\n\t    color: #8c939d;\n\t    width: 120px;\n\t    height: 120px;\n\t    line-height: 120px;\n\t    text-align: center;\n\t}\n\t.avatar {\n\t    width: 120px;\n\t    height: 120px;\n\t    display: block;\n\t}\n\t.el-table .info-row {\n\t    background: #c9e5f5;\n\t}\n\n\t.el-table .positive-row {\n\t    background: #e2f0e4;\n\t}\n    \n</style>\n\n\n// WEBPACK FOOTER //\n// src/page/addproduct.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('head-top'),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.dialogVisible},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('img',{attrs:{\"width\":\"100%\",\"src\":_vm.dialogImageUrl,\"alt\":\"\"}})]),_vm._v(\" \"),_c('el-row',{staticStyle:{\"margin-top\":\"20px\"}},[_c('el-col',{attrs:{\"span\":12,\"offset\":4}},[_c('el-form',{ref:\"formDate\",staticClass:\"demo-formData\",attrs:{\"model\":_vm.formDate,\"rules\":_vm.rules,\"label-width\":\"110px\"}},[_c('el-form-item',{attrs:{\"label\":\"商品名称\",\"prop\":\"productName\"}},[_c('el-input',{model:{value:(_vm.formDate.productName),callback:function ($$v) {_vm.$set(_vm.formDate, \"productName\", $$v)},expression:\"formDate.productName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"描述信息\",\"prop\":\"infor\"}},[_c('el-input',{model:{value:(_vm.formDate.infor),callback:function ($$v) {_vm.$set(_vm.formDate, \"infor\", $$v)},expression:\"formDate.infor\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品数量\",\"prop\":\"account\"}},[_c('el-input',{attrs:{\"maxLength\":\"11\"},model:{value:(_vm.formDate.account),callback:function ($$v) {_vm.$set(_vm.formDate, \"account\", _vm._n($$v))},expression:\"formDate.account\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"商品积分\",\"prop\":\"points\"}},[_c('el-input',{attrs:{\"maxLength\":\"11\"},model:{value:(_vm.formDate.points),callback:function ($$v) {_vm.$set(_vm.formDate, \"points\", _vm._n($$v))},expression:\"formDate.points\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"上传图片\"}},[_c('el-upload',{ref:\"upload\",staticClass:\"avatar-uploader\",attrs:{\"action\":\"http://127.0.0.1:8080/productAdd\",\"show-file-list\":false,\"on-change\":_vm.onchange,\"on-success\":_vm.handleAvatarSuccess,\"before-upload\":_vm.beforeupload}},[(_vm.imageUrl)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.imageUrl}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_vm._v(\" \"),_c('el-form-item',{staticClass:\"button_submit\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('formData')}}},[_vm._v(\"立即创建\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-58c49d40\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/page/addproduct.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-58c49d40\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./addproduct.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./addproduct.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./addproduct.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-58c49d40\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./addproduct.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/addproduct.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}