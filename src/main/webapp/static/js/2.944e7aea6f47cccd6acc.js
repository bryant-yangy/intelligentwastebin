webpackJsonp([2],{Kjw0:function(e,t){},gmpu:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("bBUo"),o=a("mtWM"),n=a.n(o),i={data:function(){return{formDate:{productName:"",infor:"",account:"",points:""},param:"",imageUrl:"",rules:{productName:[{required:!0,message:"请输入商品名称",trigger:"blur"}],infor:[{required:!0,message:"请输入商品信息",trigger:"blur"}],account:[{required:!0,message:"请输入商品数量"},{type:"number",message:"商品数量必须是数字"}],points:[{required:!0,message:"请输入商品积分"},{type:"number",message:"商品必须是数字"}]}}},components:{headTop:r.a},mounted:function(){},methods:{beforeupload:function(e){return this.param=new FormData,this.param.append("picture",e),!1},submitForm:function(e){var t=this;this.$refs.formDate.validate(function(e){if(e){t.$refs.upload.submit(),""==t.param&&t.$notify.error({title:"错误",message:"请检查输入是否正确",offset:100}),t.param.append("productName",t.formDate.productName),t.param.append("infor",t.formDate.infor),t.param.append("account",t.formDate.account),t.param.append("points",t.formDate.points);n.a.post("http://127.0.0.1:8080/productAdd",t.param,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){0==e.data.code?(t.formDate.productName="",t.formDate.infor="",t.formDate.account="",t.formDate.points="",t.imageUrl="",t.param="",alert("上传成功")):alert("上传失败")},function(e){})}else t.$notify.error({title:"错误",message:"请检查输入是否正确",offset:100})})},onchange:function(e,t){var a=this,r=r||window.event,o=(e=r.target.files[0],new FileReader);o.onload=function(e){a.imageUrl=e.target.result},o.readAsDataURL(e)},handleAvatarSuccess:function(e,t){this.imageUrl=URL.createObjectURL(t.raw)}}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("head-top"),e._v(" "),a("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})]),e._v(" "),a("el-row",{staticStyle:{"margin-top":"20px"}},[a("el-col",{attrs:{span:12,offset:4}},[a("el-form",{ref:"formDate",staticClass:"demo-formData",attrs:{model:e.formDate,rules:e.rules,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"商品名称",prop:"productName"}},[a("el-input",{model:{value:e.formDate.productName,callback:function(t){e.$set(e.formDate,"productName",t)},expression:"formDate.productName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"描述信息",prop:"infor"}},[a("el-input",{model:{value:e.formDate.infor,callback:function(t){e.$set(e.formDate,"infor",t)},expression:"formDate.infor"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品数量",prop:"account"}},[a("el-input",{attrs:{maxLength:"11"},model:{value:e.formDate.account,callback:function(t){e.$set(e.formDate,"account",e._n(t))},expression:"formDate.account"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品积分",prop:"points"}},[a("el-input",{attrs:{maxLength:"11"},model:{value:e.formDate.points,callback:function(t){e.$set(e.formDate,"points",e._n(t))},expression:"formDate.points"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"上传图片"}},[a("el-upload",{ref:"upload",staticClass:"avatar-uploader",attrs:{action:"http://127.0.0.1:8080/productAdd","show-file-list":!1,"on-change":e.onchange,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeupload}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),a("el-form-item",{staticClass:"button_submit"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("formData")}}},[e._v("立即创建")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var l=a("VU/8")(i,s,!1,function(e){a("Kjw0")},null,null);t.default=l.exports}});
//# sourceMappingURL=2.944e7aea6f47cccd6acc.js.map